# drivel

一个让你的文字看起来像胡言乱语，但还是能看懂的工具。

> 研究表明，汉字的序顺并不定一能影阅响读。
>
> 比如当你看完这句话后，仔味细回一下，才发这现话段里的字全是都乱的。

[english](./README.md) | 中文

## 安装

### 通过 go 安装

如果计算机有 go 语言开发环境，直接

```bash
go get github.com/JayceChant/drivel
```

并确认 `$GOBIN` 文件夹加入了系统执行路径。

### 二进制安装

请到[这里](https://github.com/JayceChant/drivel/releases)下载最新的二进制文件，并解压到任意目录。

如果想在任意目录执行 `drivel` ，你需要将 `drivel` 所在的目录加入系统执行路径。（如果不能理解这句话的含义，你可能需要花一点时间在搜索引擎上。）

否则，只能在 `drivel` 所在的目录执行。

由于不想在交叉编译上花时间，二进制文件暂时只有 win64 的版本。



## 使用

`drivel` 是一个 CLI  工具（Command Line Interface，命令行界面），需要在 cmd 命令窗口（Windows）/ shell（Linux）/ Terminal 终端 （MacOS） 执行，或者通过脚本调用。

以 Windows 为例，在执行目录的空白处，按住 Shift + 鼠标右键，在出现的菜单中选择 『在此处打开命令窗口(W)』，即在该位置打开了 cmd 命令窗口。

### 基本用法

直接在命令后面以要处理的内容作为参数，要处理的部分，前后用 `@` 标记。如果内容中有空白字符（包括 空格、制表符 等），需要用英文引号包围。

```bash
drivel 一个@让你的文字@看起来像@胡言乱语@的工具。
一个让的你字文看起来像胡言语乱的工具。
drivel "一个@让你的文字@看起来  像@胡言乱语@的工具。"
一个让的你字文看起来  像胡言语乱的工具。
```

处理的结果是随机的，一样的输入，得到的输出可能一样，也可能不一样。

### 更换标记符

当要处理的内容中有 `@` ，你可以用 `-k=` 换成你想要的标记符避开。

```bash
drivel -k=@@ 你好，我的@@电子邮箱@@是：bob@example.com，@@欢迎随时联系我@@。
你好，我的电子箱邮是：bob@example.com，欢迎随联时我系。
drivel -k=$ 你好，我的$电子邮箱$是：bob@example.com，$欢迎随时联系我$。
你好，我的电邮子箱是：bob@example.com，欢迎时随系联我。
```

### 从文件输入

要处理的内容较多时，输入会不方便，这时可以先把内容保存在任意 utf-8 编码的文本文件中。

article.txt:

```
@I'm a programmer.
This is my work.
Just for fun.@
```

然后通过 `-f=` 参数指定文件（这里假定 `article.txt` 就在当前执行目录，如果不是，需要使用绝对路径或相对路径指出文件的位置）：

```bash
drivel -f=article.txt
I'm a proagrmmre.
hTis si ym wokr.
Juts fro ufn.
```

如果想把结果回写原来的文件，而不是直接输出在屏幕上，可以加上 `-o` 参数。 `-o` 参数只有和 `-f` 参数一起使用才会有效，使用时会把原本的内容覆盖，请注意提前备份。

```bash
drivel -o -f=article.txt
```

### 分词

drivel 默认使用空白和标点分词，这足以处理大多数单词之间有空白的欧美语言。

分词的目的是为了在单词内部混淆，避免跨词混淆影响理解。

举例说： `@I'm a Java programmer.@`

分词结果： `I/m/a/Java/programmer`

可能的处理结果： `I'm a Jvaa proagrmmre.`

不可能出现： `I'm a Japa vrogrammre.` （v 和 p 在不同单词内，不可能交换）

#### 中文分词

西语分词对中文无效，中文使用空白和标点分词效果更接近分句。

如果中文没有分词，会出现跨词混淆，影响理解。

这时有两种解决办法：

1. 缩小 `@` 标记的范围，只对需要混淆的部分分别标记。对于大段的混淆，分成多个独立的区间，避免跨区间混淆。
2. 使用 `-w` 参数打开中文分词，根据中文语义进行分词。

但无论是西语分词还是中文分词，都无法解决所有问题：

* `@` 标记内的所有内容都会进行混淆，如果范围比较大（如全文标记），混淆的程度可能会影响理解。
* 长度短的词，混淆结果会比较单一；特别地，长度为 2 的词只有左右交换一种混淆。这会引起一些问题，如混淆后刚好是另一个词影响理解（如 no <-> on），或者因为混淆的结果不够随机，变得容易识别。
* 中文分词库使用 结巴分词，可以准确识别大部分常用词和常见的专有名词（如『北京大学』），但对于不常见的专有名词，如『金色/梦想/花园』，则会分解成基础词，对此进行混淆只能得到 『色金想梦园花』唯一一种结果。（后续版本考虑引入自定义词典）

建议使用者根据自己的实际，在开关中文分词 和 调整混淆范围 之间多尝试，找到适合的组合。

### 火星文

使用 `-m` 参数，会在混淆的基础上进一步把处理内容替换成火星文。

```bash
drivel -m 一个@让你的文字@看起来像@胡言乱语@的工具。
一个讓沵妏牸哋看起来像箶訁娪亂的工具。
```



最后，来一个综合使用各个参数的例子（各个参数分别是 打开中文分词、打开火星文、结果回写、标记符指定、输入文件指定）：

```bash
drivel -wmo -k=$ -f=../article.txt 
```





更多的信息，请直接执行 `drivel help` 查看。



## 贡献

任何反馈和建议，请到[这里](https://github.com/JayceChant/drivel/issues)提出。

如果这个小玩意对你来说有一点微末的用处，请不要吝惜你的 star。也欢迎开发者的 PR。